(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const d="sp-carousel-indicator-dot",h="sp-carousel-indicator-dot-active";class u{constructor(t,i,e={slideAutomatically:!1,indicatorVariant:"dots",debug:!1}){this.isDebug=!1,this.scrollingTimeout=null,this.wrapper=t,this.hovering=!1,this.slideAutomatically=e.slideAutomatically,this.indicatorVariant=e.indicatorVariant,this.containerSelector=i,this.positions=[],this.currentItem=0,this.scrolling=!1,this.isDebug=e.debug??!1,this.log("Creating carousel"),this.init(),this.log("Carousel created")}init(){if(this.log("Refreshing carousel"),!this.wrapper||!(this.wrapper instanceof HTMLElement)){console.error("Wrapper element not valid, could not load carousel");return}if(this.wrapper.dataset.spCarousel==="true"){this.log("Carousel already initialized");return}this.wrapper.dataset.spCarousel="true";const t=this.wrapper.querySelector(this.containerSelector);if(!t||!(t instanceof HTMLElement)){console.error("Container not found, could not load carousel",this.containerSelector);return}this.container=t;const i=this.wrapper.querySelector("[data-sp-carousel-indicator]");if(i&&i instanceof HTMLElement&&(this.indicator=i),this.items=Array.prototype.slice.call(this.container.querySelectorAll(".sparkwoo-pr-item"))??[],!this.items||this.items.length===0){console.error("No items found, could not load carousel");return}this.container.classList.add("!relative","!snap-x","!flex","!flex-nowrap","!flex-row","!overflow-x-auto","!overflow-y-hidden","sp-hide-scrollbar","!-my-4","!py-4"),this.container.addEventListener("scroll",()=>{this.scrolling=!0,this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(()=>{this.scrolling=!1,this.update()},100),this.update()}),this.wrapper.querySelectorAll("[data-sp-carousel-go]").forEach(e=>{e.addEventListener("click",()=>{e instanceof HTMLElement&&this.go(e.dataset.spCarouselGo??"next")})}),this.items.forEach((e,r)=>{r!==0&&e.classList.remove("first"),e.classList.remove("last"),r===this.items.length-1&&e.classList.add("last"),e.classList.add("!snap-start")}),this.refresh(),this.initSliderInterval(),window.addEventListener("resize",()=>{this.refresh()}),setTimeout(()=>this.refresh(),500)}refresh(){this.calculatePositions(),this.refreshIndicator(),this.update()}update(){this.log("Updating carousel");const t=this.currentScrollLeft/this.containerWidth;this.currentItem=Math.round(t*this.items.length),this.determineButtonVisibility(),this.updateCurrentIndicator()}initSliderInterval(){this.log("Initializing slider interval"),this.wrapper.onmouseenter=()=>{this.hovering=!0,this.cancelAutoSlide()},this.wrapper.onmouseover=()=>{this.hovering=!0,this.cancelAutoSlide()},this.wrapper.onmouseleave=()=>{this.hovering=!1,this.startAutoSlide()},this.sliderInterval&&this.cancelAutoSlide(),this.startAutoSlide()}startAutoSlide(){this.slideAutomatically&&(this.sliderInterval&&this.cancelAutoSlide(),this.sliderInterval=setInterval(()=>{this.hovering||(this.atEnd?this.go(0):this.go("next"))},5e3))}cancelAutoSlide(){clearInterval(this.sliderInterval)}get onePage(){return this.items.length<=this.numberPerRow}refreshIndicator(){if(this.log("Initializing indicator"),this.indicator){if(this.indicator.replaceChildren(),this.indicator.classList.add("flex","justify-center","items-center","mb-4"),this.indicatorItemContainer=document.createElement("div"),this.indicatorItemContainer.classList.add("flex","relative","space-x-2.5","mt-2"),this.indicator.appendChild(this.indicatorItemContainer),this.onePage){this.log("One page, skipping indicator");return}this.items.forEach((t,i)=>{const e=document.createElement("div");if(e.classList.add(d,"rounded-full","cursor-pointer"),this.indicatorVariant==="window")e.classList.add("w-2","h-2","bg-gray-700/50","z-30");else if(this.indicatorVariant==="dots"){if(i%this.numberPerRow!==0)return;e.classList.add("w-2.5","h-2.5","border-2","border-gray-300","hover:border-gray-500","transition-all","border-solid")}e.onclick=()=>this.go(i),this.indicatorItemContainer.appendChild(e)}),this.indicatorVariant==="window"&&(this.indicatorOverlay=document.createElement("div"),this.indicatorOverlay.classList.add("h-3","rounded-full","absolute","z-20","!-mx-1","!-mt-0.5","px-1","ring-2","ring-gray-500/75","bg-gray-300"),this.indicatorItemContainer.appendChild(this.indicatorOverlay)),this.updateCurrentIndicator()}else this.log("No indicator found")}updateCurrentIndicator(){var t;if(this.log("Updating current indicator"),this.indicatorVariant==="window"){if(!this.indicator||!this.indicatorOverlay)return;this.indicatorOverlay.setAttribute("style",`
        width: calc(0.5rem + ${this.indicator.clientWidth/this.containerWidth*100}%);
        left: ${this.currentScrollLeft/this.containerWidth*100}%;
      `)}else if(this.indicatorVariant==="dots"){const i=["border-gray-700","bg-gray-700",h];(t=this.indicatorItemContainer)==null||t.querySelectorAll(`.${d}`).forEach((e,r)=>{(r-1)*this.numberPerRow<this.currentItem&&r*this.numberPerRow>=this.currentItem?e.classList.add(...i):e.classList.remove(...i)})}}calculatePositions(){this.log("Calculating positions"),this.positions=this.items.map(t=>[t.offsetLeft,t.offsetLeft+t.offsetWidth]),this.numberPerRow=Math.round(this.container.clientWidth/this.items[0].scrollWidth)}next(){this.log("Going to next"),this.go("next")}prev(){this.log("Going to prev"),this.go("prev")}determineButtonVisibility(){this.log("Determining button visibility");const t=this.wrapper.querySelectorAll("[data-sp-carousel-go='prev']"),i=this.wrapper.querySelectorAll("[data-sp-carousel-go='next']");this.onePage?(t.forEach(e=>e.classList.add("hidden")),i.forEach(e=>e.classList.add("hidden"))):(t.forEach(e=>e.classList.remove("hidden")),i.forEach(e=>e.classList.remove("hidden"))),this.atStart?t.forEach(e=>e.classList.add("opacity-0")):t.forEach(e=>e.classList.remove("opacity-0")),this.atEnd?i.forEach(e=>e.classList.add("opacity-0")):i.forEach(e=>e.classList.remove("opacity-0"))}get currentScrollLeft(){return Math.ceil(this.container.scrollLeft)}get currentScrollRight(){return Math.floor(this.currentScrollLeft+this.container.offsetWidth)}get containerWidth(){return this.container.scrollWidth}get fullWidth(){return this.positions[this.positions.length-1][1]}get atStart(){return this.currentScrollLeft===0}get atEnd(){return this.currentScrollRight>this.containerWidth-30}go(t){if(this.log("Going to: "+t),this.scrolling)return;this.calculatePositions();const i=this.indicatorVariant==="dots"?this.numberPerRow:1;let e=this.currentItem;if(typeof t=="string"){if(this.currentScrollLeft===0&&t==="prev"||this.atEnd&&t==="next")return;t==="next"?e=Math.min(this.currentItem+i,this.items.length-i):t==="prev"&&(e=Math.max(this.currentItem-i,0))}else typeof t=="number"&&(e=t);this.container.scrollTo({left:this.positions[e][0],behavior:"smooth"})}log(t){this.isDebug&&console.log("[SPARKPLUGINS CAROUSEL DEBUG]: "+t)}}class p{constructor(t,i,e,r){this.loading=!1,this.decimalSeparator=r;const s=document.querySelector(t);if(!s||!(s instanceof HTMLElement))return;this.wrapper=s;const o=this.wrapper.querySelector(i);if(!o||!(o instanceof HTMLElement))return;this.container=o;const a=this.wrapper.querySelector(e);if(!a||!(a instanceof HTMLElement))return;this.summary=a,this.items=Array.prototype.slice.call(this.container.querySelectorAll(".sparkwoo-pr-item")),this.productList=Array.prototype.slice.call(this.summary.querySelectorAll(".sparkwoo-add-to-cart-product-list .sparkwoo-add-to-cart-product"));const c=this.summary.querySelector(".sparkwoo-add-to-cart-total-price");if(!c||!(c instanceof HTMLElement))return;this.priceElement=c;const n=this.summary.querySelector(".sparkwoo-add-selected-to-cart");!n||!(n instanceof HTMLElement)||(this.addToCartButton=n,this.checkboxes=[],this.init())}init(){this.items.forEach(t=>{var c;t.classList.add("!pt-8");const i=document.createElement("div");i.classList.add("absolute","inset-0","z-10","hidden");const e=(Math.random()+1).toString(36).substring(7),r=document.createElement("div");r.classList.add("flex","absolute","top-0","left-0","px-4","pb-3","z-20","w-full");const s=document.createElement("input");s.setAttribute("id",e),s.setAttribute("name",e),s.setAttribute("type","checkbox"),s.setAttribute("checked","checked");const o=(c=[...t.classList].find(n=>n.startsWith("post-")))==null?void 0:c.replace("post-","");s.setAttribute("value",o??""),s.classList.add("w-5","h-5","text-gray-600","bg-gray-100","border-gray-300","rounded-lg"),s.onchange=n=>this.toggle(n,i,t);const a=document.createElement("label");a.classList.add("w-full","h-5"),a.setAttribute("for",e),this.checkboxes.push(s),r.appendChild(s),r.appendChild(a),t.appendChild(r),t.appendChild(i)}),this.addToCartButton.onclick=t=>{t.preventDefault(),this.addSelectedItemsToCart(t)},this.productList.forEach(t=>{const i=t.querySelector(".sparkwoo-add-to-cart-product-variation-wrapper select");i&&(i.onchange=()=>this.update())}),this.update()}toggle(t,i,e){t.target.checked?(i.classList.add("hidden"),e.classList.remove("opacity-30")):(i.classList.remove("hidden"),e.classList.add("opacity-30")),this.update()}update(){this.priceElement.innerHTML=this.totalPrice.toFixed(2).replace(".",this.decimalSeparator);let t=!1;this.productList.forEach(e=>{const r=Number(e.dataset.id),s=e.querySelector(".sparkwoo-add-to-cart-product-variation-wrapper");s&&(this.productIds.includes(r)?(s.classList.remove("hidden"),t=!0):s.classList.add("hidden"))});const i=this.wrapper.querySelector(".sparkwoo-add-to-cart-product-variation-message");t?i==null||i.classList.remove("hidden"):i==null||i.classList.add("hidden")}async addSelectedItemsToCart(t){if(!this.loading){this.startLoading();for(const i of this.productList){const e=Number(i.dataset.id);if(!this.productIds.includes(e))continue;const r=this.getVariation(e),s={product_sku:"",product_id:String(r?r.id:e),quantity:"1"},o=Object.keys(i.dataset).find(a=>a.endsWith("analytics_event"));o&&(s[o]=i.dataset[o]),await fetch("?wc-ajax=add_to_cart",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams(s).toString()})}window.location.href=t.target.href}}startLoading(){var t;this.loading=!0,(t=this.wrapper.querySelector(".sparkwoo-add-to-cart-product-loading"))==null||t.classList.remove("hidden")}stopLoading(){var t;this.loading=!1,(t=this.wrapper.querySelector(".sparkwoo-add-to-cart-product-loading"))==null||t.classList.add("hidden")}get selectedItems(){const t=this.productIds;return this.items.filter(i=>t.includes(Number(i.dataset.id)))}get productIds(){return this.checkboxes.filter(t=>t.checked).map(t=>t.getAttribute("value")).filter(t=>!!t).map(Number)}getProductById(t){return this.productList.find(i=>Number(i.dataset.id)===t)}getVariation(t){var e;const i=(e=this.getProductById(t))==null?void 0:e.querySelector(".sparkwoo-add-to-cart-product-variation-wrapper select");return i?{id:Number(i.value),price:Number(i.options[i.selectedIndex].dataset.price??0)}:null}get totalPrice(){const t=this.productIds;return this.productList.filter(i=>t.includes(Number(i.dataset.id))).map(i=>{const e=this.getVariation(Number(i.dataset.id));return(e==null?void 0:e.price)??Number(i.dataset.price??0)}).reduce((i,e)=>i+e,0)}}window.SparkPlugins={carousel:u,addMultipleRecommendationsToCart:p};
